<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Fields</title>
<link rel="stylesheet" href="../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../index.html" title="Chapter 1. Boost.MySQL">
<link rel="up" href="../index.html" title="Chapter 1. Boost.MySQL">
<link rel="prev" href="multi_function.html" title="Multi-function operations">
<link rel="next" href="meta.html" title="Metadata">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="multi_function.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="meta.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="mysql.fields"></a><a class="link" href="fields.html" title="Fields">Fields</a>
</h2></div></div></div>
<p>
      This section delves deeper on how to use <a class="link" href="ref/boost__mysql__field.html" title="field"><code class="literal">field</code></a>
      and <a class="link" href="ref/boost__mysql__field_view.html" title="field_view"><code class="literal">field_view</code></a>
      and its underlying types. Please make sure you've read <a class="link" href="overview.html#mysql.overview.fields" title="Using fields">this
      section</a> before going on.
    </p>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.field_view_vs_field"></a><a class="link" href="fields.html#mysql.fields.field_view_vs_field" title="field_view vs field">field_view vs field</a>
</h3></div></div></div>
<p>
        This library implements two types representing the concept of a field: <a class="link" href="ref/boost__mysql__field_view.html" title="field_view"><code class="literal">field_view</code></a>,
        which is non-owning, and <a class="link" href="ref/boost__mysql__field.html" title="field"><code class="literal">field</code></a>,
        which is owning. The relationship between them is similar to the one between
        <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string_view</span></code> and <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>.
      </p>
<p>
        For efficiency reasons, all library functions return <code class="computeroutput"><span class="identifier">field_view</span></code>s.
        For example:
      </p>
<pre class="programlisting"><span class="identifier">results</span> <span class="identifier">result</span><span class="special">;</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">query</span><span class="special">(</span><span class="string">"SELECT 'Hello world!'"</span><span class="special">,</span> <span class="identifier">result</span><span class="special">);</span>

<span class="comment">// fv doesn't own its memory; if result goes out of scope, fv becomes invalid</span>
<span class="identifier">field_view</span> <span class="identifier">fv</span> <span class="special">=</span> <span class="identifier">result</span><span class="special">.</span><span class="identifier">rows</span><span class="special">().</span><span class="identifier">at</span><span class="special">(</span><span class="number">0</span><span class="special">).</span><span class="identifier">at</span><span class="special">(</span><span class="number">0</span><span class="special">);</span>

<span class="comment">// sv also points into result; if result goes out of scope, sv becomes invalid</span>
<span class="identifier">string_view</span> <span class="identifier">sv</span> <span class="special">=</span> <span class="identifier">fv</span><span class="special">.</span><span class="identifier">as_string</span><span class="special">();</span>
</pre>
<p>
        When dealing with scalars (anything that is neither a string nor a blob),
        <code class="computeroutput"><span class="identifier">field_view</span></code>'s accessors make
        a copy of the scalar:
      </p>
<pre class="programlisting"><span class="identifier">results</span> <span class="identifier">result</span><span class="special">;</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">query</span><span class="special">(</span><span class="string">"SELECT 42"</span><span class="special">,</span> <span class="identifier">result</span><span class="special">);</span>

<span class="comment">// fv doesn't own its memory; if result goes out of scope, fv becomes invalid</span>
<span class="identifier">field_view</span> <span class="identifier">fv</span> <span class="special">=</span> <span class="identifier">result</span><span class="special">.</span><span class="identifier">rows</span><span class="special">().</span><span class="identifier">at</span><span class="special">(</span><span class="number">0</span><span class="special">).</span><span class="identifier">at</span><span class="special">(</span><span class="number">0</span><span class="special">);</span>

<span class="comment">// intv is valid even after result goes out of scope</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span> <span class="identifier">intv</span> <span class="special">=</span> <span class="identifier">fv</span><span class="special">.</span><span class="identifier">as_int64</span><span class="special">();</span>
</pre>
<p>
        <code class="computeroutput"><span class="identifier">field_view</span></code>s are cheap to
        create and to copy, as they are small objects and don't perform any memory
        allocations. They are also immutable. On the other hand, <code class="computeroutput"><span class="identifier">field</span></code>s
        may be more expensive to create and copy, as they may perform memory allocations.
      </p>
<p>
        You may create a <code class="computeroutput"><span class="identifier">field</span></code> from
        a <code class="computeroutput"><span class="identifier">field_view</span></code>, taking ownership
        of its contents:
      </p>
<pre class="programlisting"><span class="identifier">results</span> <span class="identifier">result</span><span class="special">;</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">query</span><span class="special">(</span><span class="string">"SELECT 'Hello world!'"</span><span class="special">,</span> <span class="identifier">result</span><span class="special">);</span>

<span class="comment">// fv doesn't own its memory; if result goes out of scope, fv becomes invalid</span>
<span class="identifier">field_view</span> <span class="identifier">fv</span> <span class="special">=</span> <span class="identifier">result</span><span class="special">.</span><span class="identifier">rows</span><span class="special">().</span><span class="identifier">at</span><span class="special">(</span><span class="number">0</span><span class="special">).</span><span class="identifier">at</span><span class="special">(</span><span class="number">0</span><span class="special">);</span>

<span class="comment">// f takes ownership of fv's contents. f is valid even after result goes out of scope</span>
<span class="identifier">field</span> <span class="identifier">f</span><span class="special">(</span><span class="identifier">fv</span><span class="special">);</span>
</pre>
<p>
        <code class="computeroutput"><span class="identifier">field</span></code> and <code class="computeroutput"><span class="identifier">field_view</span></code>
        use the same underlying types for scalars. For strings and blobs, <code class="computeroutput"><span class="identifier">field</span></code> uses the owning types <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
        and <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>,
        while <code class="computeroutput"><span class="identifier">field_view</span></code> uses the
        reference types <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
        and <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>.
      </p>
<p>
        <code class="computeroutput"><span class="identifier">field</span></code> accessors return references,
        which allow you to mutate the underlying object:
      </p>
<pre class="programlisting"><span class="identifier">field</span> <span class="identifier">f</span><span class="special">(</span><span class="string">"my_string"</span><span class="special">);</span>            <span class="comment">// constructs a field that owns the string "my_string"</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span><span class="special">&amp;</span> <span class="identifier">s</span> <span class="special">=</span> <span class="identifier">f</span><span class="special">.</span><span class="identifier">as_string</span><span class="special">();</span>  <span class="comment">// s points into f's storage</span>
<span class="identifier">s</span><span class="special">.</span><span class="identifier">push_back</span><span class="special">(</span><span class="char">'2'</span><span class="special">);</span>                <span class="comment">// f now holds "my_string2"</span>
</pre>
<p>
        You can also mutate a <code class="computeroutput"><span class="identifier">field</span></code>
        using the assignment operator. This allows you to also change the underlying
        type of a <code class="computeroutput"><span class="identifier">field</span></code>:
      </p>
<pre class="programlisting"><span class="identifier">field</span> <span class="identifier">f</span><span class="special">(</span><span class="string">"my_string"</span><span class="special">);</span>  <span class="comment">// constructs a field that owns the string "my_string"</span>
<span class="identifier">f</span> <span class="special">=</span> <span class="number">42</span><span class="special">;</span>                <span class="comment">// destroys "my_string" and stores the value 42 as an int64</span>
</pre>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.arithmetic_types"></a><a class="link" href="fields.html#mysql.fields.arithmetic_types" title="Arithmetic types">Arithmetic types</a>
</h3></div></div></div>
<p>
        This library uses <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span></code> to represent all MySQL signed integers
        (<code class="computeroutput"><span class="identifier">TINYINT</span></code>, <code class="computeroutput"><span class="identifier">SMALLINT</span></code>,
        <code class="computeroutput"><span class="identifier">MEDIUMINT</span></code>...). Similarly,
        unsigned integers use <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>,
        32-bit floats use <code class="computeroutput"><span class="keyword">float</span></code> and
        64-bit doubles use <code class="computeroutput"><span class="keyword">double</span></code>.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.string_types"></a><a class="link" href="fields.html#mysql.fields.string_types" title="String types">String types</a>
</h3></div></div></div>
<p>
        String types (<code class="computeroutput"><span class="identifier">CHAR</span></code>, <code class="computeroutput"><span class="identifier">VARCHAR</span></code>, <code class="computeroutput"><span class="identifier">TEXT</span></code>,
        <code class="computeroutput"><span class="identifier">SET</span></code>...) are represented as
        string fields, which translates into <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
        for <code class="computeroutput"><span class="identifier">field_view</span></code> and <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
        for <code class="computeroutput"><span class="identifier">field</span></code>.
      </p>
<p>
        This library performs no character set conversion on strings. All strings
        are provided as the server sends them. If you've issued a <code class="computeroutput"><span class="string">"SET
        NAMES &lt;charset-name&gt;"</span></code> statement, strings will
        be encoded according to <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">charset</span><span class="special">-</span><span class="identifier">name</span><span class="special">&gt;</span></code>.
        For details, see <a class="link" href="charsets.html" title="Character sets">this section</a>.
      </p>
<p>
        The <code class="computeroutput"><span class="identifier">JSON</span></code> type is represented
        as a string containing the serialized JSON value. The <code class="computeroutput"><span class="identifier">DECIMAL</span></code>
        type is also provided as a string, to avoid losing precision.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.blob_types"></a><a class="link" href="fields.html#mysql.fields.blob_types" title="Blob types">Blob types</a>
</h3></div></div></div>
<p>
        The types <code class="computeroutput"><span class="identifier">BINARY</span></code>, <code class="computeroutput"><span class="identifier">VARBINARY</span></code> and <code class="computeroutput"><span class="identifier">BLOB</span></code>
        (of any size) are represented as blob fields, which are similar to string
        fields, but represent binary data instead of characters. The following types
        are used:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>
            is used by <code class="computeroutput"><span class="identifier">field_view</span></code>.
            It's an alias for <a href="../../../../../doc/html/core/span.html" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">span</span><span class="special">&lt;</span><span class="keyword">const</span> <span class="keyword">unsigned</span>
            <span class="keyword">char</span><span class="special">&gt;</span></code></a>
            (a C++11 backport of <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">span</span></code>).
          </li>
<li class="listitem">
            <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>
            is used by <code class="computeroutput"><span class="identifier">field</span></code>. It's
            an alias for <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span><span class="keyword">unsigned</span> <span class="keyword">char</span><span class="special">&gt;</span></code>.
          </li>
</ul></div>
<p>
        If MySQL adds any other type that this library doesn't understand, it is
        also represented as a blob.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.the_date_type"></a><a class="link" href="fields.html#mysql.fields.the_date_type" title="The DATE type">The DATE type</a>
</h3></div></div></div>
<p>
        MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html" target="_top"><code class="computeroutput"><span class="identifier">DATE</span></code></a> is represented as <a class="link" href="ref/boost__mysql__date.html" title="date"><code class="literal">date</code></a>
        in C++. <code class="computeroutput"><span class="identifier">date</span></code> holds the year,
        month and day components of a date. It is a type close to the protocol, rather
        than a vocabulary type. The main reason for using <code class="computeroutput"><span class="identifier">date</span></code>
        instead of a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">chrono</span><span class="special">::</span><span class="identifier">time_point</span></code> type is that, under certain
        configurations, MySQL allows storing invalid dates, such as <code class="computeroutput"><span class="number">2020</span><span class="special">-</span><span class="number">00</span><span class="special">-</span><span class="number">01</span></code>. These
        are not representable as a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">chrono</span><span class="special">::</span><span class="identifier">time_point</span></code>.
      </p>
<p>
        Unless dealing with these special values, we recommend converting <code class="computeroutput"><span class="identifier">date</span></code>s to a <code class="computeroutput"><span class="identifier">time_point</span></code>
        before using them. The member type <a class="link" href="ref/boost__mysql__date/time_point.html" title="date::time_point"><code class="literal">date::time_point</code></a>
        is a system-clock <code class="computeroutput"><span class="identifier">time_point</span></code>
        that can represent the entire MySQL <code class="computeroutput"><span class="identifier">DATE</span></code>
        range without problems. You can use <a class="link" href="ref/boost__mysql__date/as_time_point.html" title="date::as_time_point"><code class="literal">date::as_time_point</code></a>
        to perform the cast:
      </p>
<pre class="programlisting"><span class="identifier">date</span> <span class="identifier">d</span><span class="special">(</span><span class="number">2020</span><span class="special">,</span> <span class="number">2</span><span class="special">,</span> <span class="number">19</span><span class="special">);</span>                      <span class="comment">// d holds "2020-02-19"</span>
<span class="identifier">date</span><span class="special">::</span><span class="identifier">time_point</span> <span class="identifier">tp</span> <span class="special">=</span> <span class="identifier">d</span><span class="special">.</span><span class="identifier">as_time_point</span><span class="special">();</span>  <span class="comment">// now use tp normally</span>
</pre>
<p>
        If the date is not valid, <code class="computeroutput"><span class="identifier">as_time_point</span></code>
        will throw an exception.
      </p>
<p>
        You can query whether a <code class="computeroutput"><span class="identifier">date</span></code>
        contains a valid date or not using <a class="link" href="ref/boost__mysql__date/valid.html" title="date::valid"><code class="literal">date::valid</code></a>:
      </p>
<pre class="programlisting"><span class="identifier">date</span> <span class="identifier">d1</span><span class="special">(</span><span class="number">2020</span><span class="special">,</span> <span class="number">2</span><span class="special">,</span> <span class="number">19</span><span class="special">);</span>  <span class="comment">// regular date</span>
<span class="keyword">bool</span> <span class="identifier">v1</span> <span class="special">=</span> <span class="identifier">d1</span><span class="special">.</span><span class="identifier">valid</span><span class="special">();</span>  <span class="comment">// true</span>
<span class="identifier">date</span> <span class="identifier">d2</span><span class="special">(</span><span class="number">2020</span><span class="special">,</span> <span class="number">0</span><span class="special">,</span> <span class="number">19</span><span class="special">);</span>  <span class="comment">// invalid date</span>
<span class="keyword">bool</span> <span class="identifier">v2</span> <span class="special">=</span> <span class="identifier">d2</span><span class="special">.</span><span class="identifier">valid</span><span class="special">();</span>  <span class="comment">// false</span>
</pre>
<p>
        You can combine it with <a class="link" href="ref/boost__mysql__date/get_time_point.html" title="date::get_time_point"><code class="literal">date::get_time_point</code></a>,
        which performs an unchecked conversion:
      </p>
<pre class="programlisting"><span class="identifier">date</span> <span class="identifier">d</span> <span class="special">=</span> <span class="comment">/* obtain a date somehow */</span> <span class="identifier">date</span><span class="special">(</span><span class="number">2020</span><span class="special">,</span> <span class="number">2</span><span class="special">,</span> <span class="number">29</span><span class="special">);</span>
<span class="keyword">if</span> <span class="special">(</span><span class="identifier">d</span><span class="special">.</span><span class="identifier">valid</span><span class="special">())</span>
<span class="special">{</span>
    <span class="comment">// Same as as_time_point, but doesn't check for validity</span>
    <span class="comment">// Caution: be sure to check for validity.</span>
    <span class="comment">// If d is not valid, get_time_point results in undefined behavior</span>
    <span class="identifier">date</span><span class="special">::</span><span class="identifier">time_point</span> <span class="identifier">tp</span> <span class="special">=</span> <span class="identifier">d</span><span class="special">.</span><span class="identifier">get_time_point</span><span class="special">();</span>

    <span class="comment">// Use tp as required</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">tp</span><span class="special">.</span><span class="identifier">time_since_epoch</span><span class="special">().</span><span class="identifier">count</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
<span class="keyword">else</span>
<span class="special">{</span>
    <span class="comment">// the date is invalid</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="string">"Invalid date"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
        You can also construct a <code class="computeroutput"><span class="identifier">date</span></code>
        from a <code class="computeroutput"><span class="identifier">time_point</span></code>. If the
        <code class="computeroutput"><span class="identifier">time_point</span></code> is out of range,
        an exception is thrown.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.the_datetime_and_timestamp_types"></a><a class="link" href="fields.html#mysql.fields.the_datetime_and_timestamp_types" title="The DATETIME and TIMESTAMP types">The DATETIME
      and TIMESTAMP types</a>
</h3></div></div></div>
<p>
        Both types are represented as <a class="link" href="ref/boost__mysql__datetime.html" title="datetime"><code class="literal">datetime</code></a>
        in C++. <code class="computeroutput"><span class="identifier">datetime</span></code> represents
        a broken time point, having year, month, day, hour, minute, second and microseconds.
      </p>
<p>
        MySQL also accepts invalid datetimes (like <code class="computeroutput"><span class="number">2020</span><span class="special">-</span><span class="number">00</span><span class="special">-</span><span class="number">10</span> <span class="number">10</span><span class="special">:</span><span class="number">20</span><span class="special">:</span><span class="number">59.000000</span></code>).
        The same considerations for <code class="computeroutput"><span class="identifier">date</span></code>
        apply:
      </p>
<pre class="programlisting"><span class="identifier">datetime</span> <span class="identifier">dt1</span><span class="special">(</span><span class="number">2020</span><span class="special">,</span> <span class="number">10</span><span class="special">,</span> <span class="number">11</span><span class="special">,</span> <span class="number">10</span><span class="special">,</span> <span class="number">20</span><span class="special">,</span> <span class="number">59</span><span class="special">,</span> <span class="number">123456</span><span class="special">);</span>  <span class="comment">// regular datetime 2020-10-11 10:20:59.123456</span>
<span class="keyword">bool</span> <span class="identifier">v1</span> <span class="special">=</span> <span class="identifier">dt1</span><span class="special">.</span><span class="identifier">valid</span><span class="special">();</span>                           <span class="comment">// true</span>
<span class="identifier">datetime</span> <span class="identifier">dt2</span><span class="special">(</span><span class="number">2020</span><span class="special">,</span> <span class="number">0</span><span class="special">,</span> <span class="number">11</span><span class="special">,</span> <span class="number">10</span><span class="special">,</span> <span class="number">20</span><span class="special">,</span> <span class="number">59</span><span class="special">);</span>           <span class="comment">// invalid datetime 2020-00-10 10:20:59.000000</span>
<span class="keyword">bool</span> <span class="identifier">v2</span> <span class="special">=</span> <span class="identifier">dt2</span><span class="special">.</span><span class="identifier">valid</span><span class="special">();</span>                           <span class="comment">// false</span>

<span class="identifier">datetime</span><span class="special">::</span><span class="identifier">time_point</span> <span class="identifier">tp</span> <span class="special">=</span> <span class="identifier">dt1</span><span class="special">.</span><span class="identifier">as_time_point</span><span class="special">();</span>  <span class="comment">// convert to time_point</span>
</pre>
<p>
        The <code class="computeroutput"><span class="identifier">datetime</span></code> object doesn't
        carry any time zone information with it. The time zone semantics depend on
        the actual MySQL type:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html" target="_top"><code class="computeroutput"><span class="identifier">DATETIME</span></code></a> is a "naive"
            time point object. It represents a time point without any time zone information
            at all. It is up to the user to interpret which time zone the object
            is in.
          </li>
<li class="listitem">
            When a <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html" target="_top"><code class="computeroutput"><span class="identifier">TIMESTAMP</span></code></a> object is inserted,
            it is interpreted to be in the connection's local time zone, as given
            by the <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_time_zone" target="_top"><code class="computeroutput"><span class="identifier">time_zone</span></code></a> variable, and converted
            to UTC for storage. When retrieved, it is converted back to the time
            zone indicated by <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_time_zone" target="_top"><code class="computeroutput"><span class="identifier">time_zone</span></code></a>. The retrieved value
            of a <code class="computeroutput"><span class="identifier">TIMESTAMP</span></code> field
            is thus a time point in some local time zone, dictated by the current
            <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_time_zone" target="_top"><code class="computeroutput"><span class="identifier">time_zone</span></code></a> variable. As this
            variable can be changed programmatically from SQL, without the library
            knowing it, we represent <code class="computeroutput"><span class="identifier">TIMESTAMP</span></code>'s
            using the <code class="computeroutput"><span class="identifier">datetime</span></code> object,
            which doesn't include time zone information.
          </li>
</ul></div>
<p>
        When using <code class="computeroutput"><span class="identifier">TIMESTAMP</span></code>, we
        recommend setting the <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_time_zone" target="_top"><code class="computeroutput"><span class="identifier">time_zone</span></code></a> to a known value. To
        illustrate this, consider an event-logging system with the following table
        definition:
      </p>
<pre class="programlisting"><span class="identifier">results</span> <span class="identifier">result</span><span class="special">;</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">query</span><span class="special">(</span>
    <span class="identifier">R</span><span class="string">"%(
        CREATE TEMPORARY TABLE events (
            id INT PRIMARY KEY AUTO_INCREMENT,
            t TIMESTAMP,
            contents VARCHAR(256)
        )
    )%"</span><span class="special">,</span>
    <span class="identifier">result</span>
<span class="special">);</span>
</pre>
<p>
        We will be inserting events with an explicit timestamp. We may also want
        to retrieve events with a timestamp filter. This is what our prepared statements
        would look like:
      </p>
<pre class="programlisting"><span class="keyword">auto</span> <span class="identifier">insert_stmt</span> <span class="special">=</span> <span class="identifier">conn</span><span class="special">.</span><span class="identifier">prepare_statement</span><span class="special">(</span><span class="string">"INSERT INTO events (t, contents) VALUES (?, ?)"</span><span class="special">);</span>
<span class="keyword">auto</span> <span class="identifier">select_stmt</span> <span class="special">=</span> <span class="identifier">conn</span><span class="special">.</span><span class="identifier">prepare_statement</span><span class="special">(</span><span class="string">"SELECT id, t, contents FROM events WHERE t &gt; ?"</span><span class="special">);</span>
</pre>
<p>
        These statements may be run from different parts of our code, or even from
        different applications. To get consistent results, we must make sure that
        the time zones used during insertion and retrieval are the same. By default,
        <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_time_zone" target="_top"><code class="computeroutput"><span class="identifier">time_zone</span></code></a> gets set to <code class="computeroutput"><span class="identifier">SYSTEM</span></code>, which will use the server's time
        zone settings. This is not what we want here, so let's change it:
      </p>
<pre class="programlisting"><span class="comment">// This change has session scope. All operations after this query</span>
<span class="comment">// will now use UTC for TIMESTAMPs. Other sessions will not see the change.</span>
<span class="comment">// If you need to reconnect the connection, you need to run this again.</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">query</span><span class="special">(</span><span class="string">"SET @time_zone = 'UTC'"</span><span class="special">,</span> <span class="identifier">result</span><span class="special">);</span>
</pre>
<p>
        With this, the insertion code can look like:
      </p>
<pre class="programlisting"><span class="comment">// Get the timestamp of the event. This may have been provided by an external system</span>
<span class="comment">// For the sake of example, we will use the current timestamp</span>
<span class="identifier">datetime</span> <span class="identifier">event_timestamp</span> <span class="special">=</span> <span class="identifier">datetime</span><span class="special">::</span><span class="identifier">now</span><span class="special">();</span>

<span class="comment">// event_timestamp will be interpreted as UTC if you have run SET @time_zone</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">execute_statement</span><span class="special">(</span><span class="identifier">insert_stmt</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">make_tuple</span><span class="special">(</span><span class="identifier">event_timestamp</span><span class="special">,</span> <span class="string">"Something happened"</span><span class="special">),</span> <span class="identifier">result</span><span class="special">);</span>
</pre>
<p>
        The querying code would be:
      </p>
<pre class="programlisting"><span class="comment">// Get the timestamp threshold from the user. We will use a constant for the sake of example</span>
<span class="identifier">datetime</span> <span class="identifier">threshold</span> <span class="special">=</span> <span class="identifier">datetime</span><span class="special">(</span><span class="number">2022</span><span class="special">,</span> <span class="number">1</span><span class="special">,</span> <span class="number">1</span><span class="special">);</span>  <span class="comment">// get events that happened after 2022-01-01</span>

<span class="comment">// threshold will be interpreted as UTC. The retrieved events will have their</span>
<span class="comment">// `t` column in UTC</span>
<span class="identifier">conn</span><span class="special">.</span><span class="identifier">execute_statement</span><span class="special">(</span><span class="identifier">select_stmt</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">make_tuple</span><span class="special">(</span><span class="identifier">threshold</span><span class="special">),</span> <span class="identifier">result</span><span class="special">);</span>
</pre>
<p>
        If you don't set <a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_time_zone" target="_top"><code class="computeroutput"><span class="identifier">time_zone</span></code></a>, you may apparently get
        the right results if you run both insertions and queries from clients that
        don't set <code class="computeroutput"><span class="identifier">time_zone</span></code> and the
        server doesn't change its configuration. However, relying on this will make
        your applications brittle, so we don't recommend it.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.the_time_type"></a><a class="link" href="fields.html#mysql.fields.the_time_type" title="The TIME type">The TIME type</a>
</h3></div></div></div>
<p>
        The <a href="https://dev.mysql.com/doc/refman/8.0/en/time.html" target="_top"><code class="computeroutput"><span class="identifier">TIME</span></code></a> type is a signed duration
        with a resolution of one microsecond. It is represented using the <a class="link" href="ref/boost__mysql__time.html" title="time"><code class="literal">time</code></a>
        type, an alias for a <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">chrono</span><span class="special">::</span><span class="identifier">duration</span></code>
        specialization with microseconds as period.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.field_accessors"></a><a class="link" href="fields.html#mysql.fields.field_accessors" title="Field accessors">Field accessors</a>
</h3></div></div></div>
<p>
        <a class="link" href="overview.html#mysql.overview.fields.accessors">This table</a> summarizes
        the available accesors for <code class="computeroutput"><span class="identifier">field_view</span></code>
        and <code class="computeroutput"><span class="identifier">field</span></code>.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.mysql_to_c_type_mappings"></a><a class="link" href="fields.html#mysql.fields.mysql_to_c_type_mappings" title="MySQL to C++ type mappings">MySQL to C++ type
      mappings</a>
</h3></div></div></div>
<p>
        The following table reflects mapping from database types to C++ types. The
        range column shows the range of values that MySQL admits for that type. This
        library guarantees that any field retrieved from the database honors that
        range. The <code class="computeroutput"><span class="identifier">column_type</span></code> column
        shows what <a class="link" href="ref/boost__mysql__metadata/type.html" title="metadata::type"><code class="literal">metadata::type</code></a>
        would return for a column of that type.
      </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  MySQL type
                </p>
              </th>
<th>
                <p>
                  <code class="computeroutput"><span class="identifier">field_kind</span></code>
                </p>
              </th>
<th>
                <p>
                  C++ type
                </p>
              </th>
<th>
                <p>
                  Range
                </p>
              </th>
<th>
                <p>
                  <code class="computeroutput"><span class="identifier">column_type</span></code>
                </p>
              </th>
<th>
                <p>
                  Considerations
                </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">TINYINT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="special">-</span><span class="number">0x80</span></code>
                  to <code class="computeroutput"><span class="number">0x7f</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">tinyint</span></code>
                </p>
              </td>
<td>
                <p>
                  1 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">TINYINT</span></code></a> <code class="computeroutput"><span class="identifier">UNSIGNED</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="number">0</span></code> to <code class="computeroutput"><span class="number">0xff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">tinyint</span></code>
                </p>
              </td>
<td>
                <p>
                  1 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">SMALLINT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="special">-</span><span class="number">0x8000</span></code>
                  to <code class="computeroutput"><span class="number">0x7fff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">smallint</span></code>
                </p>
              </td>
<td>
                <p>
                  2 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">SMALLINT</span></code></a> <code class="computeroutput"><span class="identifier">UNSIGNED</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="number">0</span></code> to <code class="computeroutput"><span class="number">0xffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">smallint</span></code>
                </p>
              </td>
<td>
                <p>
                  2 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">MEDIUMINT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="special">-</span><span class="number">0x800000</span></code>
                  to <code class="computeroutput"><span class="number">0x7fffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">mediumint</span></code>
                </p>
              </td>
<td>
                <p>
                  3 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">MEDIUMINT</span></code></a> <code class="computeroutput"><span class="identifier">UNSIGNED</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="number">0</span></code> to <code class="computeroutput"><span class="number">0xffffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">mediumint</span></code>
                </p>
              </td>
<td>
                <p>
                  3 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">INT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="special">-</span><span class="number">0x80000000</span></code>
                  to <code class="computeroutput"><span class="number">0x7fffffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int_</span></code>
                </p>
              </td>
<td>
                <p>
                  4 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">INT</span></code></a> <code class="computeroutput"><span class="identifier">UNSIGNED</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="number">0</span></code> to <code class="computeroutput"><span class="number">0xffffffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int_</span></code>
                </p>
              </td>
<td>
                <p>
                  4 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">BIGINT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">int64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">int64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="special">-</span><span class="number">0</span><span class="identifier">x8000000000000000</span></code> to <code class="computeroutput"><span class="number">0</span><span class="identifier">x7fffffffffffffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bigint</span></code>
                </p>
              </td>
<td>
                <p>
                  8 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/integer-types.html" target="_top"><code class="computeroutput"><span class="identifier">BIGINT</span></code></a> <code class="computeroutput"><span class="identifier">UNSIGNED</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="number">0</span></code> and <code class="computeroutput"><span class="number">0</span><span class="identifier">xffffffffffffffff</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bigint</span></code>
                </p>
              </td>
<td>
                <p>
                  8 byte integer
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/year.html" target="_top"><code class="computeroutput"><span class="identifier">YEAR</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  [<code class="computeroutput"><span class="number">1901</span></code>, <code class="computeroutput"><span class="number">2155</span></code>], plus zero
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">year</span></code>
                </p>
              </td>
<td>
                <p>
                  1 byte integer type used to represent years
                </p>
                <p>
                  Zero is often employed to represent invalid year values. We represent
                  zero year as a numeric 0.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/bit-type.html" target="_top"><code class="computeroutput"><span class="identifier">BIT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">uint64</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span></code>
                </p>
              </td>
<td>
                <p>
                  Depends on the bitset width. Max <code class="computeroutput"><span class="number">0</span></code>
                  to <code class="computeroutput"><span class="number">0</span><span class="identifier">xffffffffffffffff</span></code>.
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">bit</span></code>
                </p>
              </td>
<td>
                <p>
                  A bitset between 1 and 64 bits wide.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/floating-point-types.html" target="_top"><code class="computeroutput"><span class="identifier">FLOAT</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">float_</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="keyword">float</span></code>
                </p>
              </td>
<td>
                <p>
                  IEEE 754 <code class="computeroutput"><span class="keyword">float</span></code> range
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">float_</span></code>
                </p>
              </td>
<td>
                <p>
                  4 byte floating point type
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/floating-point-types.html" target="_top"><code class="computeroutput"><span class="identifier">DOUBLE</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">double_</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="keyword">double</span></code>
                </p>
              </td>
<td>
                <p>
                  IEEE 754 <code class="computeroutput"><span class="keyword">double</span></code> range
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">double_</span></code>
                </p>
              </td>
<td>
                <p>
                  8 byte floating point type
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html" target="_top"><code class="computeroutput"><span class="identifier">DATE</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">date</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__date.html" title="date"><code class="literal">date</code></a>
                </p>
              </td>
<td>
                <p>
                  [<a class="link" href="ref/boost__mysql__min_date.html" title="min_date"><code class="literal">min_date</code></a>,
                  <a class="link" href="ref/boost__mysql__max_date.html" title="max_date"><code class="literal">max_date</code></a>]
                  (some MySQL implementations may allow a narrower range), plus invalid
                  and zero dates (see <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sqlmode_allow_invalid_dates" target="_top"><code class="computeroutput"><span class="identifier">ALLOW_INVALID_DATES</span></code></a> and
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sql-mode-strict" target="_top">strict
                  SQL mode</a>).
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">date</span></code>
                </p>
              </td>
<td>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html" target="_top"><code class="computeroutput"><span class="identifier">DATETIME</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">datetime</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__datetime.html" title="datetime"><code class="literal">datetime</code></a>
                </p>
              </td>
<td>
                <p>
                  [<a class="link" href="ref/boost__mysql__min_datetime.html" title="min_datetime"><code class="literal">min_datetime</code></a>,
                  <a class="link" href="ref/boost__mysql__max_datetime.html" title="max_datetime"><code class="literal">max_datetime</code></a>]
                  (some MySQL implementations may allow a narrower range), plus invalid
                  and zero datetimes (see <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sqlmode_allow_invalid_dates" target="_top"><code class="computeroutput"><span class="identifier">ALLOW_INVALID_DATES</span></code></a> and
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sql-mode-strict" target="_top">strict
                  SQL mode</a>).
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">datetime</span></code>
                </p>
              </td>
<td>
                <p>
                  Time point type without time zone, with a resolution of one microsecond.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/datetime.html" target="_top"><code class="computeroutput"><span class="identifier">TIMESTAMP</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">datetime</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__datetime.html" title="datetime"><code class="literal">datetime</code></a>
                </p>
              </td>
<td>
                <p>
                  [<a class="link" href="ref/boost__mysql__min_datetime.html" title="min_datetime"><code class="literal">min_datetime</code></a>,
                  <a class="link" href="ref/boost__mysql__max_datetime.html" title="max_datetime"><code class="literal">max_datetime</code></a>]
                  (the actual MySQL supported range is usually narrower, but we don't
                  enforce it in the client), plus zero timestamps (see <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sql-mode-strict" target="_top">strict
                  SQL mode</a>).
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">timestamp</span></code>
                </p>
              </td>
<td>
                <p>
                  Time point type with a resolution of one microsecond.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/time.html" target="_top"><code class="computeroutput"><span class="identifier">TIME</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">time</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__time.html" title="time"><code class="literal">time</code></a>
                </p>
              </td>
<td>
                <p>
                  [<a class="link" href="ref/boost__mysql__min_time.html" title="min_time"><code class="literal">min_time</code></a>,
                  <a class="link" href="ref/boost__mysql__max_time.html" title="max_time"><code class="literal">max_time</code></a>]
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">time</span></code>
                </p>
              </td>
<td>
                <p>
                  Signed time duration, with a resolution of one microsecond.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/char.html" target="_top"><code class="computeroutput"><span class="identifier">CHAR</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">char_</span></code>
                </p>
              </td>
<td>
                <p>
                  Fixed-size character string.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/char.html" target="_top"><code class="computeroutput"><span class="identifier">VARCHAR</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">varchar</span></code>
                </p>
              </td>
<td>
                <p>
                  Variable size character string with a maximum size.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/blob.html" target="_top"><code class="computeroutput"><span class="identifier">TEXT</span></code></a> (all sizes)
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">text</span></code>
                </p>
              </td>
<td>
                <p>
                  Variable size character string.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/enum.html" target="_top"><code class="computeroutput"><span class="identifier">ENUM</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">enum_</span></code>
                </p>
              </td>
<td>
                <p>
                  Character string with a fixed set of possible values (only one
                  possible).
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/set.html" target="_top"><code class="computeroutput"><span class="identifier">SET</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">set</span></code>
                </p>
              </td>
<td>
                <p>
                  Character string with a fixed set of possible values (many possible).
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/json.html" target="_top"><code class="computeroutput"><span class="identifier">JSON</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">json</span></code> (MySQL) or
                  <code class="computeroutput"><span class="identifier">text</span></code> (MariaDB)
                </p>
              </td>
<td>
                <p>
                  A serialized JSON value of any type.
                </p>
                <p>
                  Note that <a class="link" href="ref/boost__mysql__metadata/type.html" title="metadata::type"><code class="literal">metadata::type</code></a>
                  is different depending on the DB system. MySQL has a dedicated
                  <code class="computeroutput"><span class="identifier">JSON</span></code> type, while
                  in MariaDB <code class="computeroutput"><span class="identifier">JSON</span></code>
                  is an alias for <code class="computeroutput"><span class="identifier">LONGTEXT</span></code>.
                  JSON values are represented as strings by this library in both
                  cases.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/fixed-point-types.html" target="_top"><code class="computeroutput"><span class="identifier">DECIMAL</span></code></a>/<a href="https://dev.mysql.com/doc/refman/8.0/en/fixed-point-types.html" target="_top"><code class="computeroutput"><span class="identifier">NUMERIC</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>
                  or <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
                </p>
              </td>
<td>
                <p>
                  Depends on the column definition
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">decimal</span></code>
                </p>
              </td>
<td>
                <p>
                  A fixed precision numeric value. In this case, the string will
                  contain the textual representation of the number (e.g. the string
                  <code class="computeroutput"><span class="string">"20.52"</span></code> for
                  <code class="computeroutput"><span class="number">20.52</span></code>).
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html" target="_top"><code class="computeroutput"><span class="identifier">BINARY</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">blob</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>
                  or <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">binary</span></code>
                </p>
              </td>
<td>
                <p>
                  Fixed-size blob.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html" target="_top"><code class="computeroutput"><span class="identifier">VARBINARY</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">blob</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>
                  or <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">varbinary</span></code>
                </p>
              </td>
<td>
                <p>
                  Variable size blob with a maximum size.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/blob.html" target="_top"><code class="computeroutput"><span class="identifier">BLOB</span></code></a> (all sizes)
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">blob</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>
                  or <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">blob</span></code>
                </p>
              </td>
<td>
                <p>
                  Variable size blob.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a href="https://dev.mysql.com/doc/refman/8.0/en/spatial-type-overview.html" target="_top"><code class="computeroutput"><span class="identifier">GEOMETRY</span></code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">blob</span></code>
                </p>
              </td>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>
                  or <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>
                </p>
              </td>
<td>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">geometry</span></code>
                </p>
              </td>
<td>
                <p>
                  Any of the spatial data types. The string contains the binary representation
                  of the geometry type.
                </p>
              </td>
</tr>
</tbody>
</table></div>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="mysql.fields.cpp_to_mysql"></a><a class="link" href="fields.html#mysql.fields.cpp_to_mysql" title="C++ to MySQL type mapping reference">C++ to MySQL type mapping
      reference</a>
</h3></div></div></div>
<p>
        This section shows how a parameter <code class="computeroutput"><span class="identifier">v</span></code>
        in a expression <code class="computeroutput"><span class="identifier">conn</span><span class="special">.</span><span class="identifier">execute_statement</span><span class="special">(</span><span class="identifier">stmt</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">make_tuple</span><span class="special">(</span><span class="identifier">v</span><span class="special">),</span>
        <span class="identifier">result</span><span class="special">)</span></code>
        is interpreted by MySQL, depeding on <code class="computeroutput"><span class="identifier">v</span></code>'s
        type:
      </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  C++ type
                </p>
              </th>
<th>
                <p>
                  MySQL type
                </p>
              </th>
<th>
                <p>
                  Compatible with...
                </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="keyword">signed</span> <span class="keyword">char</span></code>,
                  <code class="computeroutput"><span class="keyword">short</span></code>, <code class="computeroutput"><span class="keyword">int</span></code>, <code class="computeroutput"><span class="keyword">long</span></code>,
                  <code class="computeroutput"><span class="keyword">long</span> <span class="keyword">long</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">BIGINT</span></code>
                </p>
              </td>
<td>
                <p>
                  Signed <code class="computeroutput"><span class="identifier">TINYINT</span></code>,
                  <code class="computeroutput"><span class="identifier">SMALLINT</span></code>, <code class="computeroutput"><span class="identifier">MEDIUMINT</span></code>, <code class="computeroutput"><span class="identifier">INT</span></code>,
                  <code class="computeroutput"><span class="identifier">BIGINT</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="keyword">unsigned</span> <span class="keyword">char</span></code>,
                  <code class="computeroutput"><span class="keyword">unsigned</span> <span class="keyword">short</span></code>,
                  <code class="computeroutput"><span class="keyword">unsigned</span> <span class="keyword">int</span></code>,
                  <code class="computeroutput"><span class="keyword">unsigned</span> <span class="keyword">long</span></code>,
                  <code class="computeroutput"><span class="keyword">unsigned</span> <span class="keyword">long</span>
                  <span class="keyword">long</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">UNSIGNED</span> <span class="identifier">BIGINT</span></code>
                </p>
              </td>
<td>
                <p>
                  Unsigned <code class="computeroutput"><span class="identifier">TINYINT</span></code>,
                  <code class="computeroutput"><span class="identifier">SMALLINT</span></code>, <code class="computeroutput"><span class="identifier">MEDIUMINT</span></code>, <code class="computeroutput"><span class="identifier">INT</span></code>,
                  <code class="computeroutput"><span class="identifier">BIGINT</span></code>, <code class="computeroutput"><span class="identifier">YEAR</span></code>, <code class="computeroutput"><span class="identifier">BIT</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>, <a class="link" href="ref/boost__mysql__string_view.html" title="string_view"><code class="literal">string_view</code></a>,
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string_view</span></code>, <code class="computeroutput"><span class="keyword">const</span>
                  <span class="keyword">char</span><span class="special">*</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">VARCHAR</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">CHAR</span></code>, <code class="computeroutput"><span class="identifier">VARCHAR</span></code>, <code class="computeroutput"><span class="identifier">TEXT</span></code>
                  (all sizes), <code class="computeroutput"><span class="identifier">ENUM</span></code>,
                  <code class="computeroutput"><span class="identifier">SET</span></code>, <code class="computeroutput"><span class="identifier">JSON</span></code>, <code class="computeroutput"><span class="identifier">DECIMAL</span></code>,
                  <code class="computeroutput"><span class="identifier">NUMERIC</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__blob.html" title="blob"><code class="literal">blob</code></a>,
                  <a class="link" href="ref/boost__mysql__blob_view.html" title="blob_view"><code class="literal">blob_view</code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">BLOB</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">BINARY</span></code>, <code class="computeroutput"><span class="identifier">VARBINARY</span></code>, <code class="computeroutput"><span class="identifier">BLOB</span></code>
                  (all sizes), <code class="computeroutput"><span class="identifier">GEOMETRY</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="keyword">float</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">FLOAT</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">FLOAT</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="keyword">double</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">DOUBLE</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">DOUBLE</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__date.html" title="date"><code class="literal">date</code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">DATE</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">DATE</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__datetime.html" title="datetime"><code class="literal">datetime</code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">DATETIME</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">DATETIME</span></code>, <code class="computeroutput"><span class="identifier">TIMESTAMP</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__time.html" title="time"><code class="literal">time</code></a>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">TIME</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">TIME</span></code>
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">nullptr_t</span></code>
                </p>
              </td>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">NULL</span></code>
                </p>
              </td>
<td>
                <p>
                  Any of the other types. Used to insert <code class="computeroutput"><span class="identifier">NULL</span></code>s,
                  for example.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__field_view.html" title="field_view"><code class="literal">field_view</code></a>
                </p>
              </td>
<td>
                <p>
                  Depends on the actual type stored by the field
                </p>
              </td>
<td>
              </td>
</tr>
<tr>
<td>
                <p>
                  <a class="link" href="ref/boost__mysql__field.html" title="field"><code class="literal">field</code></a>
                </p>
              </td>
<td>
                <p>
                  Depends on the actual type stored by the field
                </p>
              </td>
<td>
              </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="copyright-footer">Copyright © 2019-2023 Ruben Perez<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="multi_function.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="meta.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
