<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>resolve</title>
<link rel="stylesheet" href="../../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../index.html" title="Chapter 1. Boost.URL">
<link rel="up" href="../../pt01.html" title="Part Two: Reference. ">
<link rel="prev" href="boost__urls__operator_lt__lt_/overload9.html" title="operator&lt;&lt; (9 of 9 overloads)">
<link rel="next" href="boost__urls__string_to_scheme.html" title="string_to_scheme">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="boost__urls__operator_lt__lt_/overload9.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../pt01.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="boost__urls__string_to_scheme.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h4 class="title">
<a name="url.ref.boost__urls__resolve"></a><a class="link" href="boost__urls__resolve.html" title="resolve">resolve</a>
</h4></div></div></div>
<p>
        <a class="indexterm" name="idm145183"></a>
      </p>
<p>
        Resolve a URL reference against a base URL.
      </p>
<h5>
<a name="url.ref.boost__urls__resolve.h0"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.synopsis"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.synopsis">Synopsis</a>
      </h5>
<p>
        Defined in header <code class="literal">&lt;<a href="https://github.com/boostorg/url/blob/master/include/boost/url/url_base.hpp" target="_top">boost/url/url_base.hpp</a>&gt;</code>
      </p>
<pre class="programlisting"><span class="identifier">result</span><span class="special">&lt;</span> <span class="keyword">void</span> <span class="special">&gt;</span>
<span class="identifier">resolve</span><span class="special">(</span>
    <span class="identifier">url_view_base</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">base</span><span class="special">,</span>
    <span class="identifier">url_view_base</span> <span class="keyword">const</span><span class="special">&amp;</span> <span class="identifier">ref</span><span class="special">,</span>
    <span class="identifier">url_base</span><span class="special">&amp;</span> <span class="identifier">dest</span><span class="special">);</span>
</pre>
<h5>
<a name="url.ref.boost__urls__resolve.h1"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.description"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.description">Description</a>
      </h5>
<p>
        This function attempts to resolve a URL reference <code class="computeroutput"><span class="identifier">ref</span></code>
        against the base URL <code class="computeroutput"><span class="identifier">base</span></code>
        in a manner similar to that of a web browser resolving an anchor tag. The
        base URL must satisfy the <span class="emphasis"><em>URI</em></span> grammar. In other words,
        it must contain a scheme. Relative references are only usable when in the
        context of a base absolute URI. This process of resolving a relative <span class="emphasis"><em>reference</em></span>
        within the context of a <span class="emphasis"><em>base</em></span> URI is defined in detail
        in rfc3986 (see below). The resolution process works as if the relative reference
        is appended to the base URI and the result is normalized. Given the input
        base URL, this function resolves the relative reference as if performing
        the following steps:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            Ensure the base URI has at least a scheme
          </li>
<li class="listitem">
            Normalizing the reference path
          </li>
<li class="listitem">
            Merge base and reference paths
          </li>
<li class="listitem">
            Normalize the merged path
          </li>
</ul></div>
<p>
        This function places the result of the resolution into <code class="computeroutput"><span class="identifier">dest</span></code>,
        which can be any of the url containers that inherit from <a class="link" href="boost__urls__url_base.html" title="url_base"><code class="computeroutput"><span class="identifier">url_base</span></code></a>. If an error occurs, the
        contents of <code class="computeroutput"><span class="identifier">dest</span></code> is unspecified
        and <code class="computeroutput"><span class="identifier">ec</span></code> is set.
      </p>
<h5>
<a name="url.ref.boost__urls__resolve.h2"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.example"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.example">Example</a>
      </h5>
<pre class="programlisting"><span class="identifier">url</span> <span class="identifier">dest</span><span class="special">;</span>
<span class="identifier">error_code</span> <span class="identifier">ec</span><span class="special">;</span>

<span class="identifier">resolve</span><span class="special">(</span><span class="string">"/one/two/three"</span><span class="special">,</span> <span class="string">"four"</span><span class="special">,</span> <span class="identifier">dest</span><span class="special">,</span> <span class="identifier">ec</span><span class="special">);</span>
<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">dest</span><span class="special">.</span><span class="identifier">str</span><span class="special">()</span> <span class="special">==</span> <span class="string">"/one/two/four"</span> <span class="special">);</span>

<span class="identifier">resolve</span><span class="special">(</span><span class="string">"http://example.com/"</span><span class="special">,</span> <span class="string">"/one"</span><span class="special">,</span> <span class="identifier">dest</span><span class="special">,</span> <span class="identifier">ec</span><span class="special">);</span>
<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">dest</span><span class="special">.</span><span class="identifier">str</span><span class="special">()</span> <span class="special">==</span> <span class="string">"http://example.com/one"</span> <span class="special">);</span>

<span class="identifier">resolve</span><span class="special">(</span><span class="string">"http://example.com/one"</span><span class="special">,</span> <span class="string">"/two"</span><span class="special">,</span> <span class="identifier">dest</span><span class="special">,</span> <span class="identifier">ec</span><span class="special">);</span>
<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">dest</span><span class="special">.</span><span class="identifier">str</span><span class="special">()</span> <span class="special">==</span> <span class="string">"http://example.com/two"</span> <span class="special">);</span>

<span class="identifier">resolve</span><span class="special">(</span><span class="string">"http://a/b/c/d;p?q"</span><span class="special">,</span> <span class="string">"g#s"</span><span class="special">,</span> <span class="identifier">dest</span><span class="special">,</span> <span class="identifier">ec</span><span class="special">);</span>
<span class="identifier">assert</span><span class="special">(</span> <span class="identifier">dest</span><span class="special">.</span><span class="identifier">str</span><span class="special">()</span> <span class="special">==</span> <span class="string">"http://a/b/c/g#s"</span> <span class="special">);</span>
</pre>
<h5>
<a name="url.ref.boost__urls__resolve.h3"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.bnf"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.bnf">BNF</a>
      </h5>
<pre class="programlisting"><span class="identifier">absolute</span><span class="special">-</span><span class="identifier">URI</span>  <span class="special">=</span> <span class="identifier">scheme</span> <span class="string">":"</span> <span class="identifier">hier</span><span class="special">-</span><span class="identifier">part</span> <span class="special">[</span> <span class="string">"?"</span> <span class="identifier">query</span> <span class="special">]</span>
</pre>
<h5>
<a name="url.ref.boost__urls__resolve.h4"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.exception_safety"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.exception_safety">Exception
        Safety</a>
      </h5>
<p>
        Basic guarantee. Calls to allocate may throw.
      </p>
<h5>
<a name="url.ref.boost__urls__resolve.h5"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.return_value"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.return_value">Return
        Value</a>
      </h5>
<p>
        An empty <a class="link" href="boost__urls__result.html" title="result"><code class="computeroutput"><span class="identifier">result</span></code></a>
        upon success, otherwise an error code if <code class="computeroutput"><span class="special">!</span><span class="identifier">base</span><span class="special">.</span><span class="identifier">has_scheme</span><span class="special">()</span></code>.
      </p>
<h5>
<a name="url.ref.boost__urls__resolve.h6"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.parameters"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.parameters">Parameters</a>
      </h5>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                <p>
                  Name
                </p>
              </th>
<th>
                <p>
                  Description
                </p>
              </th>
</tr></thead>
<tbody>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">base</span></code>
                </p>
              </td>
<td>
                <p>
                  The base URL to resolve against.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">ref</span></code>
                </p>
              </td>
<td>
                <p>
                  The URL reference to resolve.
                </p>
              </td>
</tr>
<tr>
<td>
                <p>
                  <code class="computeroutput"><span class="identifier">dest</span></code>
                </p>
              </td>
<td>
                <p>
                  The container where the result is written, upon success.
                </p>
              </td>
</tr>
</tbody>
</table></div>
<h5>
<a name="url.ref.boost__urls__resolve.h7"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.specification"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.specification">Specification</a>
      </h5>
<p>
        <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-5" target="_top">5. Reference
        Resolution (rfc3986)</a>
      </p>
<h5>
<a name="url.ref.boost__urls__resolve.h8"></a>
        <span class="phrase"><a name="url.ref.boost__urls__resolve.see_also"></a></span><a class="link" href="boost__urls__resolve.html#url.ref.boost__urls__resolve.see_also">See
        Also</a>
      </h5>
<p>
        <a class="link" href="boost__urls__url.html" title="url"><code class="computeroutput"><span class="identifier">url</span></code></a>,
        <a class="link" href="boost__urls__url_view.html" title="url_view"><code class="computeroutput"><span class="identifier">url_view</span></code></a>.
      </p>
<p>
        Convenience header <code class="literal">&lt;<a href="https://github.com/boostorg/url/blob/master/include/boost/url.hpp" target="_top">boost/url.hpp</a>&gt;</code>
      </p>
</div>
<div class="copyright-footer">Copyright © 2021, 2022 Vinnie Falco, Alan de Freitas<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="boost__urls__operator_lt__lt_/overload9.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../pt01.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="boost__urls__string_to_scheme.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
